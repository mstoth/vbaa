// a_mock@1.0.5 downloaded from https://ga.jspm.io/npm:a_mock@1.0.5/index.js

import e from"util";import r from"buffer";import n from"module";var t={},u=false;function dew(){if(u)return t;u=true;t=e;return t}var a={},i=false;function dew$1(){if(i)return a;i=true;a=r;return a}var o={},f=false;function dew$2(){if(f)return o;f=true;function _new(){return{}}o=_new;return o}var l={},v=false;function dew$3(){if(v)return l;v=true;l=function getStackTrace(){try{throw new Error}catch(n){var e=n.stack.split("\n");e.splice(0,4);var r=e.join("\n");return r}};return l}var d={},s=false;function dew$4(){if(s)return d;s=true;var e=dew$3();function _new(r){var n=r;function execute(){Error.stackTraceLimit=Error.stackTraceLimit+2;try{return n.apply(null,arguments)}catch(r){"Mock Error"==r.name&&(r.stack=r.name+": "+r.message+"\n"+e());throw r}finally{Error.stackTraceLimit=Error.stackTraceLimit-2}}execute.setFallback=function(e){n=e};return execute}d=_new;return d}var w={},p=false;function dew$5(){if(p)return w;p=true;function _new(e,r){var n=dew$5();function binaryAnd(){return e.apply(null,arguments)&&r.apply(null,arguments)}binaryAnd.add=function(){var e=binaryAnd;for(var r=0;r<arguments.length;r++){var t=arguments[r];e=n(e,t)}return e};return binaryAnd}w=_new;return w}var m={},$=false;function dew$6(){if($)return m;$=true;function _new(e){var r=dew$5();function monadicAnd(){return e.apply(null,arguments)}monadicAnd.add=function(){var e=monadicAnd;for(var n=0;n<arguments.length;n++){var t=arguments[n];e=r(e,t)}return e};return monadicAnd}m=_new;return m}var g={},h=false;function dew$7(){if(h)return g;h=true;function and(){return true}and.add=function(e){return dew$6()(e)};g=and;return g}var y={},A=false;function dew$8(){if(A)return y;A=true;function mutableAnd(){var e=dew$7();function execute(){return e.apply(null,arguments)}execute.add=function(){e=e.add.apply(null,arguments)};return execute}y=mutableAnd;return y}var x={},k=false;function dew$9(){if(k)return x;k=true;var e=dew$4();var r=dew$8();function _new(n,t){var u=r();n.execute=e(t);n.originalFallback=t;n.lastExecute=n.execute;n.compositeAreCorrectArguments=u;n.expectCount=0;return n}x=_new;return x}var E={},b=false;function dew$a(){if(b)return E;b=true;var e=dew$2();var r=dew$9();function _new(n){var t=e();t=r(t,n);t.reset=function(){return r(t,n)};return t}E=_new;return E}var _={},C=false;var T="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$b(){var e,r;if(C)return _;C=true;var n=dew$1().Buffer;var t=dew();function isEqualArg(e,r){if(isValueType(e)||isValueType(r))return e===r;if(isArray(e)&&isArray(r))return isEqualArray(e,r);if(n.isBuffer(e)&&n.isBuffer(r)){if(e.length!=r.length)return false;for(var u=0;u<e.length;u++)if(e[u]!==r[u])return false;return true}return t.isDate(e)&&t.isDate(r)?e.getTime()===r.getTime():isEqualStruct(e,r)}function isArray(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}function isEqualArray(e,r){return e.length==r.length&&equalContents();function equalContents(){var n,t;for(var u=0;u<e.length;u++){n=e[u];t=r[u];if(!isEqualArg(n,t))return false}return true}}function isEqualStruct(n,t){var u=Object.keys(n).length;var a=Object.keys(t).length;return 0==u&&0==a?n===t:u==a&&equalProperties();function equalProperties(){for(var u in n){if(!(u in t))return false;T.xPropValue=e=n[u];T.yPropValue=r=t[u];if(!isEqualArg(e,r))return false}return true}}function isValueType(e){return null===e||"object"!==typeof e}_=isEqualArg;return _}var q={},j=false;function dew$c(){if(j)return q;j=true;var e=dew$b();function _new(r,n){function hasSameArgument(){return arguments.length>n&&e(r,arguments[n])}return hasSameArgument}q=_new;return q}var M={},F=false;function dew$d(){if(F)return M;F=true;function _new(e,r){var n;function hasEqualArgumentArray(){n=arguments[r];return n instanceof Array&&equalArrayLength()&&equalElements()}function equalArrayLength(){return e.length==n.length}function equalElements(){for(var r=0;r<e.length;r++)if(e[r]!==n[r])return false;return true}return hasEqualArgumentArray}M=_new;return M}var O={},L=false;var V="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$e(){var e,r;if(L)return O;L=true;V.yellow=e="[33m",V.reset=r="[0m";function expectArray(n,t,u){console.log("\n%s%s%s",e,"expectArray is deprecated, use expect instead.",r);var a=dew$d();var i=dew$x();var o=a(u,n);return i(o,n,t)}O=expectArray;return O}var P={},S=false;function dew$f(){if(S)return P;S=true;var e=dew$7();function _new(r,n){if(n.expectAnything){n.expectAnything=false;return e}function hasNoMoreArguments(){return arguments.length==r}return hasNoMoreArguments}P=_new;return P}var N={},B=false;function dew$g(){if(B)return N;B=true;function _new(e){if("undefined"==typeof e)return returnTrue;function returnTrue(){return true}var r=returnTrueNTimes;function execute(){return r()}function returnTrueNTimes(){e--;0===e&&(r=returnFalse);return true}function returnFalse(){return false}return execute}N=_new;return N}var D={},H=false;function dew$h(){if(H)return D;H=true;function negotiate(e,r){e&&r.expectCount--}D=negotiate;return D}var R={},G=false;function dew$i(){if(G)return R;G=true;function execute(e,r,n,t,u,a){var i=dew$h();var o=6;var f=[];while(o<arguments.length){f.push(arguments[o]);o++}if(n.apply(null,f)){i(u,t);a.emit.apply(null,f);return e}return r.apply(null,f)}R=execute;return R}var I={},J=false;function dew$j(){if(J)return I;J=true;function newExecute(e,r,n,t){var u=dew$i();var a=n.originalFallback;var i=n.whenCalledEmitter;function execute(){var o=[e,a,r,n,t,i];for(var f=0;f<arguments.length;f++)o.push(arguments[f]);return u.apply(null,o);e,fallback,r}execute.setFallback=function(e){a=e};return execute}I=newExecute;return I}var U={},z=false;function dew$k(){if(z)return U;z=true;function negotiate(e,r){e&&r.expectCount++}U=negotiate;return U}var K={},Q=false;function dew$l(){if(Q)return K;Q=true;function setExecute(e,r,n,t){var u=dew$7();var a=dew$g()(t);var i=dew$j();var o=dew$k();u=u.add(n.compositeAreCorrectArguments);u=u.add(a);var f=n.lastExecute;var l=i(e,u,n,t);n.lastExecute=l;f.setFallback(l);o(t,n)}K=setExecute;return K}var W={},X=false;function dew$m(){if(X)return W;X=true;function _return(e,r,n){var t=dew$f();var u=dew$l();var a=1;n.numberOfArgs=void 0;var i=t(r,n);var o=n.compositeAreCorrectArguments.add(i);u(e,o,n,a);var f={};f.repeat=function(r){u(e,o,n,r-1);return f};f.repeatAny=function(){u(e,o,n);return f};return f}W=_return;return W}var Y={},Z=false;function dew$n(){if(Z)return Y;Z=true;Y=function(e){return _throw;function _throw(){throw e}};return Y}var ee={},re=false;function dew$o(){if(re)return ee;re=true;function _new(){var e={};e.callbacks=[];return e}ee=_new;return ee}var ne={},te=false;function dew$p(){if(te)return ne;te=true;function add(e,r){e.callbacks.push(r)}ne=add;return ne}var ue={},ae=false;function dew$q(){if(ae)return ue;ae=true;function tryAdd(e,r){var n=dew$p();r&&n(e,r)}ue=tryAdd;return ue}var ie={},oe=false;function dew$r(){if(oe)return ie;oe=true;function remove(e,r){var n=e.callbacks;for(var t=0;t<n.length;t++)if(n[t]===r){n.splice(t,1);return}}ie=remove;return ie}var fe={},ce=false;function dew$s(){if(ce)return fe;ce=true;function tryremove(e,r){var n=dew$r();r&&n(e,r)}fe=tryremove;return fe}var le={},ve=false;function dew$t(){if(ve)return le;ve=true;function _new(){var e=dew$o()();var r=dew$p();var n=dew$q();var t=dew$r();var u=dew$s();var a={};a.add=function(n){r(e,n);return a};a.tryAdd=function(r){n(e,r);return a};a.remove=function(r){t(e,r);return a};a.tryRemove=function(r){u(e,r);return a};a.emit=function(){var r=e.callbacks;for(var n=0;n<r.length;n++)r[n].apply(null,arguments);return a};return a}le=_new;return le}var de={},se=false;function dew$u(){if(se)return de;se=true;function expectAnything(e,r){var n=dew$y();var t=dew$u();var u=dew$e();var a=dew$m();var i=dew$n();var o=dew$7();r.whenCalledEmitter=dew$t()();var f={};r.compositeAreCorrectArguments.add(o);r.expectAnything=true;r.numberOfArgs=e+1;f.expect=function(){var t=[e+1,r];for(var u=0;u<arguments.length;u++)t.push(arguments[u]);return n.apply(null,t)};f.expectAnything=function(){return f};f.return=function(n){return a(n,e+1,r)};f.whenCalled=function(e){r.whenCalledEmitter.add(e);return f};f.repeat=function(n){return a(void 0,e+1,r).repeat(n)};f.throw=function(e){var r=i(e);return f.whenCalled(r)};f.repeatAny=function(){return a(void 0,e+1,r).repeatAny()};return f}de=expectAnything;return de}var we={},pe=false;function dew$v(){if(pe)return we;pe=true;var e=dew$7();function ignore(r,n){var t=dew$x();return t(e,r,n)}we=ignore;return we}var me={},$e=false;function dew$w(){if($e)return me;$e=true;function newThen(){var e;var r;var n;var t=[];var c=function(e,r){return 0==arguments.length?c.resolve():e?c.resolve(e):c.reject(r)};c.then=function(e,r){var n={};n.success=extractCallback(e);n.fail=extractCallback(r);var u=newThen();n.promise=u;t.push(n);negotiatePromises();return u};c.resolve=function(e){n=true;r=e;negotiatePromises();return c};c.reject=function(t){n=true;e=true;r=t;negotiatePromises();return c};function negotiatePromises(){if(n){for(var u=0;u<t.length;u++){var a=t[u];var i;i=e?a.fail:a.success;var o=wrap(i.bind(null,r));o.then((function(e){a.promise.resolve(e)}),(function(e){a.promise.reject(e)}))}t=[]}}function extractCallback(e){return"function"===typeof e?e:passThrough}function passThrough(r){return e?newThen().reject(r):newThen().resolve(r)}return c}function wrap(e){try{var r=e();return r&&"function"===typeof r.then?r:{then:function(e){e(r)}}}catch(e){return{then:function(r,n){n(e)}}}}newThen.resolve=function(e){var r=newThen();r.resolve(e);return r};newThen.reject=function(e){var r=newThen();r.reject(e);return r};me=newThen;return me}var ge={},he=false;function dew$x(){if(he)return ge;he=true;function expect(e,r,n){var t=dew$y();var u=dew$u();var a=dew$v();var i=dew$e();var o=dew$m();var f=dew$n();var l=dew$w();n.whenCalledEmitter=dew$t()();var v={};n.compositeAreCorrectArguments.add(e);n.numberOfArgs=r+1;v.expect=function(){var e=[r+1,n];for(var u=0;u<arguments.length;u++)e.push(arguments[u]);return t.apply(null,e)};v.expectAnything=function(){return u(r+1,n)};v.ignore=function(){return a(r+1,n)};v.expectArray=function(e){return i(r+1,n,e)};v.return=function(e){return o(e,r+1,n)};v.whenCalled=function(e){n.whenCalledEmitter.add(e);return v};v.repeat=function(e){return o(void 0,r+1,n).repeat(e)};v.throw=function(e){var r=f(e);return v.whenCalled(r)};v.repeatAny=function(){return o(void 0,r+1,n).repeatAny()};v.resolve=function(e){var r=l.resolve(e);return v.return(r)};v.reject=function(e){var r=l.reject(e);return v.return(r)};return v}ge=expect;return ge}var ye={},Ae=false;function dew$y(){if(Ae)return ye;Ae=true;function expect(e,r){var n=dew$c();var t=dew$x();var u=arguments[2];var a=n(u,e);var i=t(a,e,r);for(var o=3;o<arguments.length;o++){var f=arguments[o];i=i.expect(f)}return i}ye=expect;return ye}var xe={},ke=false;function dew$z(){if(ke)return xe;ke=true;function verify(e){var r=e.expectCount;if(r>0)throw new Error("mock has "+r+" pending functions");return true}xe=verify;return xe}var Ee={},be=false;function dew$A(){if(be)return Ee;be=true;var e=dew$n();function expectEmpty(r){var n=dew$m();r.whenCalledEmitter=dew$t()();var t=dew$f()(0,r);var u=dew$w();var a={};r.compositeAreCorrectArguments.add(t);r.numberOfArgs=0;a.return=function(e){return n(e,0,r)};a.whenCalled=function(e){r.whenCalledEmitter.add(e);return a};a.throw=function(r){var n=e(r);return a.whenCalled(n)};a.repeat=function(e){return n(void 0,0,r).repeat(e)};a.repeatAny=function(){return n(void 0,0,r).repeatAny()};a.resolve=function(e){var r=u.resolve(e);return a.return(r)};a.reject=function(e){var r=u.reject(e);return a.return(r)};return a}Ee=expectEmpty;return Ee}var _e={},Ce=false;function dew$B(){if(Ce)return _e;Ce=true;var e=dew$m();function negotiateEnd(r){var n=r.numberOfArgs;if(void 0!==n){var t;e(t,n,r)}}_e=negotiateEnd;return _e}var Te={},qe=false;function dew$C(){if(qe)return Te;qe=true;function create(e){var r=dew$a();var n=dew$y();var t=dew$u();var u=dew$v();var a=dew$e();var i=dew$z();var o=dew$A();var f=dew$8();var l=r(e);var v=dew$B();function mock(){negotiateEnd();l.arguments=arguments;return l.execute.apply(null,arguments)}mock.expect=function(){negotiateEnd();l.compositeAreCorrectArguments=f();if(0==arguments.length)return o(l);var e=[0,l];for(var r=0;r<arguments.length;r++)e.push(arguments[r]);return n.apply(null,e)};mock.expectAnything=function(){negotiateEnd();l.compositeAreCorrectArguments=f();var e=[0,l];return t.apply(null,e)};mock.ignore=function(){negotiateEnd();l.compositeAreCorrectArguments=f();var e=[0,l];return u.apply(null,e)};mock.reset=l.reset;mock.verify=function(){negotiateEnd();var e=[l];return i.apply(null,e)};mock.expectArray=function(e){negotiateEnd();l.compositeAreCorrectArguments=f();var r=[0,l,e];return a.apply(null,r)};function negotiateEnd(){v(l)}return mock}Te=create;return Te}var je={},Me=false;function dew$D(){if(Me)return je;Me=true;function throwUnexpectedArguments(){var e="Unexpected arguments:";for(var r=0;r<arguments.length;r++)e=e+" "+arguments[r];var n=new Error;n.name="Mock Error";n.message=e+".";throw n}je=throwUnexpectedArguments;return je}var Fe={},Oe=false;function dew$E(){if(Oe)return Fe;Oe=true;var e=dew$C();var r=dew$D();function create(){return e(r)}Fe=create;return Fe}var Le={},Ve=false;var Pe="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;function dew$F(){var e;if(Ve)return Le;Ve=true;function _new(r){if(r)return r;var n=dew$8()();Pe.c=e={};e.verify=n;return e}Le=_new;return Le}var Se={},Ne=false;function dew$G(){if(Ne)return Se;Ne=true;var e=dew$F();var r=dew$C();function _new(n,t){var u=dew$G();var t=e(t);var a={};a.verify=t.verify;if(n instanceof Function){a=r(n);t.verify.add(a.verify)}if(!(n instanceof Object))return a;for(var i in n){var o=n[i];a[i]=u(o,t)}return a}Se=_new;return Se}var Be={},De=false;function dew$H(){if(De)return Be;De=true;function _new(e,r,n){function propertyMock(){return n.apply(null,arguments)}for(var r in e)propertyMock[r]=e[r];return propertyMock}Be=_new;return Be}var He={},Re=false;function dew$I(){if(Re)return He;Re=true;var e=dew$H();function execute(r,n){if(r instanceof Object){var t=dew$I();for(var u in r){var a=r[u];var i=n[u];a instanceof Function&&(r[u]=e(r,u,i));t(a,i)}}}He=execute;return He}var Ge={},Ie=false;function dew$J(){if(Ie)return Ge;Ie=true;var e=dew$E();var r=dew$G();var n=dew$C();var t=dew$I();function create(u){if(void 0==u)return e();if(u instanceof Function)return n(u);var a=r(u);t(u,a);return a}Ge=create;return Ge}var Je={},Ue=false;function dew$K(){if(Ue)return Je;Ue=true;function create(e){var r;var n=[];var t={};var u=[];t.whenCalledEmitter=emitter();var a;function emitter(){var callback=function(){};var e={};e.setSubscriber=function(e){callback=e};e.emit=function(){callback.apply(null,a)};return e}function mock(){a=arguments;for(var t=0;t<n.length;t++){r=n[t];if(correctArgs()){r.whenCalledEmitter.emit();negotiateRemove(t);return r.returnValue}}return e.apply(null,a)}function negotiateRemove(e){if(!r.repeatAny){r.repeat--;0==r.repeat&&n.splice(e,1)}}function correctArgs(){var e=r.args;var n=e.length;if(a.length!==n)return false;for(var t=0;t<n;t++)if(!e[t](a[t]))return false;return true}mock.expect=function(e){if("undefined"===typeof e)return mock;var r=sameArgumentVerifier(e);u.push(r);return mock};function sameArgumentVerifier(e){function verifyArgument(r){return r===e}return verifyArgument}mock.expectAnything=function(){u.push(verifyAnyArgument);return mock};function verifyAnyArgument(e){return true}mock.return=function(e){t.returnValue=e;t.args=u;t.repeat=1;n.push(t);t={};t.whenCalledEmitter=emitter();u=[];return mock};mock.repeat=function(e){lastMock().repeat=e-1};mock.repeatAny=function(){lastMock().repeatAny=true};mock.whenCalled=function(e){t.whenCalledEmitter.setSubscriber(e);return mock};function lastMock(){var e=n.length;return n[e-1]}mock.reset=function(){n=[]};return mock}Je=create;return Je}var ze={},Ke=false;function dew$L(){if(Ke)return ze;Ke=true;var e=n;function expect(r){return e._requireMock.expect(r).expectAnything().expectAnything()}if(!e._requireMock){e._requireMock=dew$K()(e._load);var r=e._load;e._load=loadHook;function loadHook(r,n,t){return e._requireMock(r,n,t)}}expect.reset=e._requireMock.reset;ze=expect;return ze}var Qe={},We=false;function dew$M(){if(We)return Qe;We=true;var e=dew$J();var r=dew$L();function create(n){var t=e();r(n).return(t);return t}create.reset=r.reset;Qe=create;return Qe}var Xe={},Ye=false;function dew$N(){if(Ye)return Xe;Ye=true;dew();dew$1();Xe={mock:dew$J(),expectRequire:dew$L(),requireMock:dew$M(),then:dew$w()};return Xe}const Ze=dew$N();var er=Ze.mock;export default Ze;export{dew$N as __dew,er as mock};

